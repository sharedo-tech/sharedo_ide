<div class="CreateInstructionFileUpload">
    
    <div class="section">
        <h5>Instruction details</h5>
        
        <div class="form-group">
            <label for="reference">Reference:</label>
            <input type="text" id="reference" class="form-control" data-bind="textInput:model.reference"/>
            <span class="text-danger" data-bind="visible:validation.reference, text:validation.reference"></span>
        </div>
    
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" id="title" class="form-control" data-bind="textInput:model.title"/>
            <span class="text-danger" data-bind="visible:validation.title, text:validation.title"></span>
        </div>
    </div>
    <div class="section">
        <h5>Upload supporting files</h5>
        
        <div class="form-group">
            <label for="target">File types:</label>
            <select id="target" class="form-control" data-bind="value:model.target">
                <option value="Evidence">Evidence</option>
                <option value="Statements">Statements</option>
                <option value="Other">Other</option>
            </select>
        </div>

        <div class="form-group">
            <label>Select files:</label>
            <div class="file-list" data-bind="nativeDropZone:{canDrop:true, onDrop:$root.dropFiles.bind($root)}">
        
                <!-- ko if:model.files().length < 1 -->
                <div class="text-center">No files selected</div>
                <!-- /ko -->
        
                <div class="the-list" data-bind="foreach:model.files">
                    <div class="a-file">
                        <button type="button" class="btn btn-xs btn-danger mr-2" data-bind="click:$root.removeFile.bind($root)"><span class="fa fa-trash"></span></button>
                        <span data-bind="text:name"></span>
                    </div>
                </div>
                
                <div class="text-center"><i>Drag/drop files onto this zone, or click the button below</i></div>
                <div class="text-center">
                    <span>
                        <label>
                            <input type="file" data-bind="{event: { change: selectFiles }}" class="hidden" multiple/>
                            <div class="btn btn-xs btn-primary"><span class="fa fa-upload"></span> Choose Files</div>
                        </label>
                    </span>
                </div>

            </div>
        </div>
    </div>
    
    <hr/>
    
    <div class="text-center">
        <button class="btn btn-primary" data-bind="click:create, enable:validation.isValid">Create Instruction</button>
    </div>

</div>